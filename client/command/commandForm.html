<template name="commandForm">
  <div class="ui basic segment">
    {{> inputApplication}}
  </div>
</template>

<template name="inputApplication">
  <div class="ui form">
    <div class="fields">
      <div class="six wide field">
        <div class="ui fluid labeled icon search dropdown basic button">
          <i class="cube icon"></i>
          <span class="text">choose application</span>

          <input type="hidden" name="applicationId">
          <div class="menu">
            {{#each applications}}
              <div class="item" data-value="{{_id}}">
                {{name}}
                <div class="description">{{description}}</div>
              </div>
            {{/each}}
          </div>
        </div>
      </div>

      <div class="two wide field">
        {{#if selectedApplication}}
          <div class="ui left labeled icon basic green submit button">
            <i class="icon play"></i> run
          </div>
        {{/if}}
      </div>
    </div>

    <div class="three fields">
      {{#each selectedApplication.parameters}}
        {{> inputApplicationParameter}}
      {{/each}}            
    </div>
  </div> 
</template>

<template name="inputApplicationParameter">
  <div class="field">
    {{#if isType 'bool'}}
      <div class="ui toggle checkbox" style="margin: .5em">
        <input type="checkbox" name="{{param}}">
        <label>{{param}}</label>
      </div>
    {{else}}
      <div class="ui labeled input">
        <div class="ui label">
          <small>{{param}}</small>
        </div>
        <input type="text" name={{param}} placeholder={{param}}>
      </div>
    {{/if}}
  </div>
</template>